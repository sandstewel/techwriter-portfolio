{{ if and (not .IsHome) (or (.Params.ShowBreadCrumbs) (.Site.Params.ShowBreadCrumbs)) }}
<nav class="breadcrumb" aria-label="Breadcrumb">
  <a href="{{ .Site.BaseURL }}">üè† Home</a>

  {{/* Collect ancestors up the page tree */}}
  {{ $ancestors := slice }}
  {{ $parent := .Parent }}

  {{ range seq 0 10 }} {{/* safely limit to 10 levels deep */}}
    {{ if $parent }}
      {{ $ancestors = $ancestors | append $parent }}
      {{ $parent = $parent.Parent }}
    {{ end }}
  {{ end }}

  {{/* Reverse the ancestor order (top-down) */}}
  {{ $count := sub (len $ancestors) 1 }}
  {{ range seq 0 $count }}
    {{ $i := sub $count . }}
    {{ $ancestor := index $ancestors $i }}
    {{ if ne $ancestor.Title $.Title }}
      &nbsp;‚Ä∫&nbsp;<a href="{{ $ancestor.RelPermalink }}">{{ $ancestor.Title }}</a>
    {{ end }}
  {{ end }}

  &nbsp;‚Ä∫&nbsp;<span>{{ .Title }}</span>
</nav>
{{ end }}
